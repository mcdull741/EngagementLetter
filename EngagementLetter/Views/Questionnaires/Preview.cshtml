@model Questionnaire
@{ Layout = "~/Views/Shared/_Layout.cshtml"; }

<div class="container mx-auto px-4 py-8">
    <div class="bg-white rounded-lg shadow-md p-6">
        <div class="mb-8">
            <h1 class="text-2xl font-bold text-gray-800">@Model.Title</h1>
            <p class="text-gray-600 mt-2">@Model.Description</p>
            <div class="text-sm text-gray-500 mt-1">创建日期: @Model.CreatedDate.ToString("yyyy-MM-dd")</div>
            <div class="text-sm text-gray-500 mt-1">修改时间: @Model.LastModifiedDate.ToString("yyyy-MM-dd")</div>
        </div>

        <div class="border-t border-gray-200 pt-6">
            @foreach (var question in Model.Questions.OrderBy<Question, int>(q => q.SortOrder))
            {
                <div class="mb-8 question-block">
                    <div class="font-medium text-gray-800 mb-2">@question.SortOrder. @question.Content</div>
                    @if (!string.IsNullOrEmpty(question.OptionsJson))
                    {
                        var options = System.Text.Json.JsonSerializer.Deserialize<List<string>>(question.OptionsJson, new System.Text.Json.JsonSerializerOptions { PropertyNameCaseInsensitive = true });
                        <div class="ml-4 mt-3 space-y-2">
                            @foreach (var option in options)
                            {
                                <div class="flex items-center">
                                    <input type="radio" id="option_@question.Id@option" name="question_@question.Id" class="h-4 w-4 text-blue-600">
                                    <label for="option_@question.Id@option" class="ml-2 text-gray-700">@option</label>
                                </div>
                            }
                        </div>
                    }
                </div>
            }
        </div>
    </div>
</div>